[
    {
        "UpdateStageName": "Run MariaDB Server",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c \"cd mariadb/mariadb && bin/mariadbd --defaults-file=../.my.cnf --port={{$ServerPort}} &\"",
        "RunInBackground": true,
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Run MariaDB Server",
        "UpdateSourcePlatform": "Windows",
        "UpdateSource": "Executable",
        "UpdateSourceData": "powershell.exe",
        "UpdateSourceArgs": "-NoProfile -Command \"Set-Location -Path 'mariadb/mariadb'; & bin\\mariadbd.exe --defaults-file=../.my.cnf --port={{$ServerPort}}\"",
        "RunInBackground": true,
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Pause Update Stages",
        "UpdateSourcePlatform": "All",
        "UpdateSource": "Pause",
        "UpdateSourceArgs": "10"
    },
    {
        "UpdateStageName": "Upgrade MariaDB",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "/bin/bash",
        "UpdateSourceArgs": "-c \"cd mariadb/mariadb && bin/mariadb-upgrade -port={{$ServerPort}} --socket=../run/mariadbd/mariadbd.sock --user=amp\"",
        "RunInBackground": true,
        "SkipOnFailure": false
    },
    {
        "UpdateStageName": "Upgrade MariaDB",
        "UpdateSourcePlatform": "Windows",
        "UpdateSource": "Executable",
        "UpdateSourceData": "powershell.exe",
        "UpdateSourceArgs": "-NoProfile -Command \"Set-Location -Path 'mariadb/mariadb'; & bin/mariadb-upgrade.exe -port={{$ServerPort}} --socket=../run/mariadbd/mariadbd.sock --user=amp\"",
        "RunInBackground": true,
        "SkipOnFailure": false
    }
]